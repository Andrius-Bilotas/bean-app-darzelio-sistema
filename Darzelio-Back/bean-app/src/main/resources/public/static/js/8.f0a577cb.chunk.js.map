{"version":3,"sources":["Components/Archive/ArchiveListByAdmin.jsx"],"names":["ArchiveListByAdmin","componentDidMount","axios","get","API","then","response","setState","archives","data","catch","error","status","alert","handleSearch","event","preventDefault","searchTerm","target","value","state","filteredArchives","this","filter","archive","email","toLowerCase","indexOf","className","placeholder","type","name","onChange","scope","length","map","index","id","deletionDate","filename","key","href","rel","Component"],"mappings":"8OAKqBA,G,wDACnB,aAAe,IAAD,8BACZ,gBAOFC,kBAAoB,WAWlB,OATAC,IACGC,IAAIC,IAAM,sBACVC,MAAK,SAACC,GAAD,OAAc,EAAKC,SAAS,CAAEC,SAAUF,EAASG,UACtDC,OAAM,SAACC,GACwB,MAA1BA,EAAML,SAASM,QACjBC,MACE,yIAGD,YAAmB,IAnBd,EAsBdC,aAAe,SAACC,GACdA,EAAMC,iBACN,IAAMC,EAAaF,EAAMG,OAAOC,MAChC,EAAKZ,SAAS,CACZU,WAAYA,KAxBd,EAAKG,MAAQ,CACXZ,SAAU,GACVS,WAAY,IAJF,E,qDA6BJ,IAAD,OACHI,EAAmBC,KAAKF,MAAMZ,SAASe,QAAO,SAACC,GACjD,OAAuE,IAAhEA,EAAQC,MAAMC,cAAcC,QAAQ,EAAKP,MAAMH,eAExD,OACE,yBAAKW,UAAU,kBACb,yBAAKA,UAAU,QACb,4BACG,IADH,gHAKF,yBAAKA,UAAU,QACb,2BACEA,UAAU,0BACVC,YAAY,wCACZC,KAAK,OACLC,KAAK,aACLZ,MAAOG,KAAKF,MAAMH,WAClBe,SAAUV,KAAKR,eAEjB,2BAAOc,UAAU,cACf,+BACE,4BACE,wBAAIK,MAAM,OAAV,KAEA,wBAAIA,MAAM,OAAV,kBACA,wBAAIA,MAAM,OAAV,uBACA,wBAAIA,MAAM,OAAV,qBACA,wBAAIA,MAAM,OAAV,oBAGHX,KAAKF,MAAMZ,UAAYc,KAAKF,MAAMZ,SAAS0B,OAAS,EACnDb,EAAiBc,KACf,WAAwCC,GAAW,IAAhDC,EAA+C,EAA/CA,GAAIC,EAA2C,EAA3CA,aAAcb,EAA6B,EAA7BA,MAAOc,EAAsB,EAAtBA,SAC1B,OACE,2BAAOC,IAAKH,GACV,wBAAIG,IAAKH,GACP,wBAAIJ,MAAM,OAAOG,EAAQ,GACzB,4BAAKX,GACL,gCAAMa,GACN,gCAAMC,GACN,4BACE,uBACEE,KAAI,UAAKrC,IAAL,8BAA8BiC,EAA9B,aACJK,IAAI,sBACJxB,OAAO,UAHT,wBAcZ,+BACE,4BACE,mD,GAzF8ByB","file":"static/js/8.f0a577cb.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { API } from '../../Configuration/AppConfig';\r\nimport axios from 'axios';\r\nimport '../../Style/UsersLandings.css';\r\n\r\nexport default class ArchiveListByAdmin extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      archives: [],\r\n      searchTerm: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    let isMounted = true;\r\n    axios\r\n      .get(API + '/api/users/archive')\r\n      .then((response) => this.setState({ archives: response.data }))\r\n      .catch((error) => {\r\n        if (error.response.status === 403) {\r\n          alert(\r\n            'Jūs neturite prieigos teisių į šitą puslapį. jei manote, kad tai klaida - prisijunkite iš naujo'\r\n          );}\r\n      });\r\n    return () => {isMounted = false};\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    event.preventDefault();\r\n    const searchTerm = event.target.value;\r\n    this.setState({\r\n      searchTerm: searchTerm,\r\n    });\r\n  };\r\n  render() {\r\n    let filteredArchives = this.state.archives.filter((archive) => {\r\n      return archive.email.toLowerCase().indexOf(this.state.searchTerm) !== -1;\r\n    });\r\n    return (\r\n      <div className=\"container mt-5\">\r\n        <div className=\"mb-4\">\r\n          <h4>\r\n            {' '}\r\n            Ištrintų tėvų/globėjų ir švietimo specialistų paskyrų archyvai\r\n          </h4>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <input\r\n            className=\"form-control mt-3 col-4\"\r\n            placeholder=\"Paieška pagal el.paštą\"\r\n            type=\"text\"\r\n            name=\"searchTerm\"\r\n            value={this.state.searchTerm}\r\n            onChange={this.handleSearch}\r\n          />\r\n          <table className=\"table mt-4\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n\r\n                <th scope=\"col\">El.paštas</th>\r\n                <th scope=\"col\">Ištrynimo data</th>\r\n                <th scope=\"col\">Failo pavadinimas</th>\r\n                <th scope=\"col\">Atsisųsti</th>\r\n              </tr>\r\n            </thead>\r\n            {this.state.archives && this.state.archives.length > 0 ? (\r\n              filteredArchives.map(\r\n                ({ id, deletionDate, email, filename }, index) => {\r\n                  return (\r\n                    <tbody key={id}>\r\n                      <tr key={id}>\r\n                        <th scope=\"row\">{index + 1}</th>\r\n                        <td>{email}</td>\r\n                        <td> {deletionDate}</td>\r\n                        <td> {filename}</td>\r\n                        <td>\r\n                          <a\r\n                            href={`${API}/api/users/archive/${id}/download`}\r\n                            rel=\"noopener noreferrer\"\r\n                            target=\"_blank\"\r\n                          >\r\n                            Atsisųsti\r\n                          </a>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  );\r\n                }\r\n              )\r\n            ) : (\r\n              <tbody>\r\n                <tr>\r\n                  <td>Loading...</td>\r\n                </tr>\r\n              </tbody>\r\n            )}\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}