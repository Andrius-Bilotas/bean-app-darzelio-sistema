{"version":3,"sources":["Components/UploadPDF/ChildrenPdfTable.jsx"],"names":["ModalComponentPdf","lazy","ChildrenPdfTable","deletePdf","event","preventDefault","axios","delete","API","target","value","then","alert","window","location","reload","catch","err","state","children","get","res","setState","data","sortedChildren","this","sort","a","b","firstname","className","scope","length","map","index","id","lastname","healthRecordId","key","href","rel","data-toggle","data-target","Component"],"mappings":"uPAGMA,EAAoBC,gBAAK,kBAC7B,kCAGmBC,E,kDACnB,aAAe,IAAD,8BACZ,gBAYFC,UAAY,SAACC,GACXA,EAAMC,iBACNC,IACGC,OADH,UACaC,IADb,0BACkCJ,EAAMK,OAAOC,MAD/C,YAEGC,MAAK,WACJC,MAAM,6BACNC,OAAOC,SAASC,YAGnBC,OAAM,SAACC,QApBR,EAAKC,MAAQ,CACXC,SAAU,IAHA,E,gEAOO,IAAD,OAClBb,IACGc,IAAIZ,IAAM,oCACVG,MAAK,SAACU,GAAD,OAAS,EAAKC,SAAS,CAAEH,SAAUE,EAAIE,Y,+BAevC,IAAD,OACHC,EAAc,YAAOC,KAAKP,MAAMC,UAWpC,OAVAK,EAAeE,MAAK,SAACC,EAAGC,GACtB,OAAID,EAAEE,UAAYD,EAAEC,WACV,EAENF,EAAEE,UAAYD,EAAEC,UACX,EAEF,KAIP,6BACE,kEACA,2BAAOC,UAAU,SACf,+BACE,4BACE,wBAAIC,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,iBACA,wBAAIA,MAAM,OAAV,gBACA,wBAAIA,MAAM,OAAV,mBAIHN,KAAKP,MAAMC,SAASa,OAAS,EAC1BR,EAAeS,KACb,WAA8CC,GAAW,IAAtDC,EAAqD,EAArDA,GAAIN,EAAiD,EAAjDA,UAAWO,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,eAC1B,OACE,2BAAOC,IAAKH,GACV,wBAAIG,IAAKH,GACP,wBAAIJ,MAAM,OAAOG,EAAQ,GACzB,4BACGL,EADH,IACeO,GAEdC,EAAiB,EAChB,4BACE,uBACEE,KAAI,UAAK/B,IAAL,0BAA0B2B,EAA1B,aACJK,IAAI,sBACJ/B,OAAO,UAHT,2CASF,sFAED4B,EAAiB,EAChB,4BACE,4BACEP,UAAU,iBACVW,cAAY,QACZC,cAAA,yBAA+BP,GAC/BzB,MAAOyB,GAJT,iBAQA,kBAACnC,EAAD,CACEmC,GAAIA,EACJN,UAAWA,EACXO,SAAUA,EACVjC,UAAW,EAAKA,aAIpB,4FAOZ,W,GAnGgCwC","file":"static/js/23.cf809f27.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React, { Component, lazy } from 'react';\r\nimport { API } from '../../Configuration/AppConfig';\r\nconst ModalComponentPdf = lazy(() =>\r\n  import('../Modal/ModalComponentPdf')\r\n);\r\n\r\nexport default class ChildrenPdfTable extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      children: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(API + '/api/users/getloggeduserchildren')\r\n      .then((res) => this.setState({ children: res.data }));\r\n  }\r\n\r\n  deletePdf = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .delete(`${API}/api/users/pdf/${event.target.value}/delete`)\r\n      .then(() => {\r\n        alert('Pažyma ištrinta');\r\n        window.location.reload();\r\n      })\r\n    // .catch((err) => console.log(err));\r\n    .catch((err) =>  {});\r\n  };\r\n\r\n  render() {\r\n    let sortedChildren = [...this.state.children];\r\n    sortedChildren.sort((a, b) => {\r\n      if (a.firstname < b.firstname) {\r\n        return -1;\r\n      }\r\n      if (a.firstname > b.firstname) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <h4> Vaikų sveikatos pažymos</h4>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\"> Vaiko vardas</th>\r\n              <th scope=\"col\">Pažymos</th>\r\n              <th scope=\"col\">Ištrinti</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          {this.state.children.length > 0\r\n            ? sortedChildren.map(\r\n                ({ id, firstname, lastname, healthRecordId }, index) => {\r\n                  return (\r\n                    <tbody key={id}>\r\n                      <tr key={id}>\r\n                        <th scope=\"row\">{index + 1}</th>\r\n                        <td>\r\n                          {firstname} {lastname}\r\n                        </td>\r\n                        {healthRecordId > 0 ? (\r\n                          <td>\r\n                            <a\r\n                              href={`${API}/api/users/pdf/${id}/download`}\r\n                              rel=\"noopener noreferrer\"\r\n                              target=\"_blank\"\r\n                            >\r\n                              Atsisiųsti vaiko pažymą\r\n                            </a>\r\n                          </td>\r\n                        ) : (\r\n                          <td>Šiam vaikui neįkėlėte pažymos</td>\r\n                        )}\r\n                        {healthRecordId > 0 ? (\r\n                          <td>\r\n                            <button\r\n                              className=\" btn btn-light\"\r\n                              data-toggle=\"modal\"\r\n                              data-target={`#staticBackdrop${id}`}\r\n                              value={id}\r\n                            >\r\n                              Ištrinti\r\n                            </button>\r\n                            <ModalComponentPdf\r\n                              id={id}\r\n                              firstname={firstname}\r\n                              lastname={lastname}\r\n                              deletePdf={this.deletePdf}\r\n                            />\r\n                          </td>\r\n                        ) : (\r\n                          <td> Šiam vaikui neįkėlėte pažymos</td>\r\n                        )}\r\n                      </tr>\r\n                    </tbody>\r\n                  );\r\n                }\r\n              )\r\n            : null}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}